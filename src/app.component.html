<div [@routeAnimations]="getRouteAnimationData()">
    <router-outlet></router-outlet>
</div>
<app-modal></app-modal>
<app-language-conflict></app-language-conflict>

<!-- Session Timeout Warning Modal -->
@if (state.showTimeoutWarning()) {
<div class="fixed inset-0 z-[9999] flex items-center justify-center p-4">
    <!-- Backdrop -->
    <div class="absolute inset-0 bg-black/40 backdrop-blur-md transition-opacity"></div>

    <!-- Card -->
    <div class="bg-white rounded-[24px] shadow-2xl w-full max-w-[400px] p-8 relative z-10 animate-fade-in text-center border border-slate-100">

        <!-- Logo/Icon -->
        <div class="w-16 h-16 mx-auto mb-6 bg-[#003087] rounded-full flex items-center justify-center shadow-lg shadow-blue-900/20">
             <span class="font-bold text-3xl text-white italic">P</span>
        </div>

        <h2 class="text-2xl font-bold text-[#001435] mb-3 tracking-tight">Session Expiring</h2>

        <p class="text-[15px] leading-relaxed text-[#243c5a] mb-8">
            For your security, we will automatically log you out in <span class="font-bold text-[#d92d20] tabular-nums">{{ state.timeoutCountdown() }} seconds</span> to protect your account.
        </p>

        <button (click)="state.extendSession()" class="w-full bg-[#003087] hover:bg-[#002569] text-white font-bold text-[15px] py-4 px-6 rounded-full transition-all duration-300 shadow-xl shadow-blue-900/10 hover:shadow-blue-900/20 active:scale-[0.98]">
            Stay Logged In
        </button>
    </div>
</div>
}

<app-toast></app-toast>
<app-global-spinner></app-global-spinner>
