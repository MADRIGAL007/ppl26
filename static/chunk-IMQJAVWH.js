import{a as o}from"./chunk-J7R5ZWGW.js";import{T as a,p as i,t as n}from"./chunk-IHDGWWL2.js";var r=class s{constructor(){this.auth=n(o);this.stats=a({activeSessions:0,totalSessions:0,verifiedSessions:0,totalLinks:0,successRate:0});this.isLoading=a(!1)}async fetchStats(){if(this.auth.isAuthenticated()){this.isLoading.set(!0);try{let e=this.auth.token(),t=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){let c=await t.json();this.stats.set(c)}else console.error("[Stats] API denied:",t.status)}catch(e){console.error("[Stats] Fetch failed:",e)}finally{this.isLoading.set(!1)}}}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=i({token:s,factory:s.\u0275fac,providedIn:"root"})}};export{r as a};
