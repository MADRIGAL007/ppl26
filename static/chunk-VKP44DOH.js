import{b as B,c as G,f as A,i as V}from"./chunk-JGR3JS3N.js";import{a as D}from"./chunk-FAPC7OHN.js";import{d as W}from"./chunk-62QQN53Q.js";import{Aa as p,Ha as m,Ja as S,K as t,P as g,R as C,Sa as O,T as _,U as u,V as I,W as v,X as h,Y as y,aa as n,ba as o,ca as k,ga as b,ha as T,ib as N,na as a,oa as w,pa as c,ra as E,sa as L,t as M,ta as x,u as P,va as R,za as d}from"./chunk-YQLKRNON.js";function F(l,i){if(l&1&&(n(0,"div",1)(1,"span",21),a(2,"error"),o(),n(3,"div")(4,"p",22),a(5),d(6,"translate"),o(),n(7,"p",23),a(8),o()()()),l&2){let r=T();t(5),w(p(6,2,"LOGIN.ERROR_CREDENTIALS")),t(3),w(r.state.rejectionReason())}}function z(l,i){l&1&&(n(0,"div",6)(1,"span",24),a(2,"error_outline"),o()())}function H(l,i){l&1&&(n(0,"span",14)(1,"span",25),a(2,"refresh"),o(),n(3,"span"),a(4),d(5,"translate"),o()()),l&2&&(t(4),w(p(5,1,"LOGIN.PROCESSING")))}function U(l,i){l&1&&(a(0),d(1,"translate")),l&2&&c(" ",p(1,1,"LOGIN.LOG_IN")," ")}var j=class l{constructor(){this.state=M(N);this.email="";this.password="";this.showErrors=!1;this.touchedEmail=g(!1);this.showPassword=g(!1);this.isEmailValid=g(!1);this.isValid=g(!1);this.isLoading=g(!1);this.theme=m(()=>this.state.currentFlow()?.theme);this.primaryColor=m(()=>this.theme()?.button.background||"#003087");this.btnTextColor=m(()=>this.theme()?.button.color||"#ffffff");this.btnRadius=m(()=>this.theme()?.button.borderRadius||"999px");this.btnBackground=m(()=>this.theme()?.button.background||"#003087");this.cardBg=m(()=>this.theme()?.card.background||"#ffffff");this.inputTextColor=m(()=>this.theme()?.input.textColor||"#111827");this.inputBg=m(()=>this.theme()?.input.backgroundColor||"#ffffff");S(()=>{this.email=this.state.email(),this.validate()},{allowSignalWrites:!0}),S(()=>{this.state.currentView()!=="loading"&&this.isLoading.set(!1)},{allowSignalWrites:!0})}inputStyles(){let i=this.theme()?.input,r=i?.style==="material";return{"background-color":i?.backgroundColor||"#fff",color:i?.textColor||"#000","border-radius":i?.borderRadius||"0.5rem",border:r?"none":"1px solid #d1d5db",padding:"1.25rem 1rem 0.5rem 1rem",height:"3.5rem","box-shadow":r?"none":"inset 0 1px 2px rgba(0,0,0,0.05)"}}inputClasses(){return(this.theme()?.input.style||"modern")==="material"?"peer block w-full appearance-none focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors":"peer block w-full appearance-none focus:outline-none focus:ring-2 focus:ring-offset-1 transition-colors"}labelClasses(){let r=this.theme()?.input?.style,e="text-gray-500";return this.theme()?.mode==="dark"&&(e="text-gray-400"),`transition-all duration-200 pointer-events-none absolute ${e} left-4 origin-[0] 
            peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 
            peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-0 
            scale-75 top-2 -translate-y-0`}togglePassword(){this.showPassword.update(i=>!i)}onEmailChange(i){this.validate(),this.state.updateUser({email:i})}onPasswordChange(i){this.validate(),this.state.updateUser({password:i})}validate(){let r=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.email);this.isEmailValid.set(r),this.isValid.set(r&&this.password.length>0)}login(){this.touchedEmail.set(!0),this.isEmailValid()&&this.password.length>0?(this.isLoading.set(!0),this.state.submitLogin(this.email,this.password)):this.showErrors=!0}static{this.\u0275fac=function(r){return new(r||l)}}static{this.\u0275cmp=P({type:l,selectors:[["app-login"]],standalone:!0,features:[R],decls:35,vars:61,consts:[[1,"space-y-8","animate-fade-in","w-full"],[1,"bg-red-50","border-l-[6px]","border-red-500","p-4","flex","items-start","gap-4","rounded-r-lg","animate-in","slide-in-from-top-2"],[1,"space-y-6"],[1,"relative","group"],["type","text","id","email","placeholder"," ",1,"w-full","transition-all","duration-200","outline-none","block",3,"ngModelChange","blur","ngModel"],["for","email",1,"absolute","left-4","transition-all","duration-200","pointer-events-none","origin-[0]"],[1,"absolute","right-4","top-1/2","-translate-y-1/2","text-red-500","animate-in","fade-in"],["id","password","placeholder"," ",1,"w-full","transition-all","duration-200","outline-none","block",3,"ngModelChange","type","ngModel"],["for","password",1,"absolute","left-4","transition-all","duration-200","pointer-events-none","origin-[0]"],["tabindex","-1",1,"absolute","right-4","top-1/2","-translate-y-1/2","font-bold","text-sm","transition-colors","z-10","p-1","outline-none",3,"click"],[1,"flex","items-center","justify-between","-mt-2"],[1,"font-semibold","hover:underline","cursor-pointer","text-[14px]"],[1,"space-y-6","pt-2"],[1,"w-full","py-3","font-bold","text-lg","shadow-md","hover:shadow-lg","transform","active:scale-[0.98]","transition-all","relative","overflow-hidden",3,"click","disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"relative","py-2"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-slate-300","opacity-30"],[1,"relative","flex","justify-center","text-sm"],[1,"px-4","font-medium","opacity-60"],[1,"w-full","py-3","font-semibold","border-2","hover:bg-black/5","transition-colors"],[1,"material-icons","text-red-500","text-xl"],[1,"text-sm","font-bold","text-red-900"],[1,"text-xs","text-red-700","mt-1"],[1,"material-icons","text-xl"],[1,"material-icons","animate-spin","text-lg"]],template:function(r,e){r&1&&(n(0,"app-public-layout")(1,"div",0),C(2,F,9,4,"div",1),n(3,"div",2)(4,"div",3)(5,"input",4),x("ngModelChange",function(s){return L(e.email,s)||(e.email=s),s}),b("ngModelChange",function(s){return e.onEmailChange(s)})("blur",function(){return e.touchedEmail.set(!0)}),o(),n(6,"label",5),a(7),d(8,"translate"),o(),C(9,z,3,0,"div",6),o(),n(10,"div",3)(11,"input",7),x("ngModelChange",function(s){return L(e.password,s)||(e.password=s),s}),b("ngModelChange",function(s){return e.onPasswordChange(s)}),o(),n(12,"label",8),a(13),d(14,"translate"),o(),n(15,"button",9),b("click",function(){return e.togglePassword()}),a(16),o()()(),n(17,"div",10)(18,"a",11),a(19),d(20,"translate"),o()(),n(21,"div",12)(22,"button",13),b("click",function(){return e.login()}),C(23,H,6,3,"span",14)(24,U,2,3),o(),n(25,"div",15)(26,"div",16),k(27,"div",17),o(),n(28,"div",18)(29,"span",19),a(30),d(31,"translate"),o()()(),n(32,"button",20),a(33),d(34,"translate"),o()()()()),r&2&&(t(2),y(e.state.rejectionReason()?2:-1),t(3),v(e.inputStyles()),h(e.inputClasses()),E("ngModel",e.email),t(),h(e.labelClasses()),u("color",e.inputTextColor()),t(),c(" ",p(8,51,"LOGIN.EMAIL_PLACEHOLDER")," "),t(2),y((e.touchedEmail()||e.showErrors)&&!e.isEmailValid()?9:-1),t(2),v(e.inputStyles()),h(e.inputClasses()),_("type",e.showPassword()?"text":"password"),E("ngModel",e.password),t(),h(e.labelClasses()),u("color",e.inputTextColor()),t(),c(" ",p(14,53,"LOGIN.PASSWORD_PLACEHOLDER")," "),t(2),u("color",e.primaryColor()),t(),c(" ",e.showPassword()?"Hide":"Show"," "),t(2),u("color",e.primaryColor()),t(),c(" ",p(20,55,"LOGIN.FORGOT")," "),t(3),u("background",e.btnBackground())("color",e.btnTextColor())("border-radius",e.btnRadius()),I("cursor-wait",e.isLoading()),_("disabled",e.isLoading()),t(),y(e.isLoading()?23:24),t(6),u("background",e.cardBg())("color",e.inputTextColor()),t(),c(" ",p(31,57,"LOGIN.OR")," "),t(2),u("border-color",e.primaryColor())("color",e.primaryColor())("border-radius",e.btnRadius()),t(),c(" ",p(34,59,"LOGIN.SIGN_UP")," "))},dependencies:[O,V,B,G,A,D,W],encapsulation:2})}};export{j as LoginComponent};
