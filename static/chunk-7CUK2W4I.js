import{b as O,c as W,f as Z,h as K,i as U}from"./chunk-JGR3JS3N.js";import{a as H}from"./chunk-FAPC7OHN.js";import{d as F}from"./chunk-62QQN53Q.js";import{$ as I,A as y,Aa as m,Ha as v,Ja as D,K as o,P as g,R as P,Sa as k,T as E,V as u,Y as N,_ as L,aa as d,ba as r,fa as T,ga as h,ha as f,ib as G,na as s,oa as p,pa as w,ra as _,sa as b,t as x,ta as C,u as B,va as R,z as S,za as c}from"./chunk-YQLKRNON.js";var z=[{name:"Afghanistan",code:"AF"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Brazil",code:"BR"},{name:"Brunei",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cabo Verde",code:"CV"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo (DRC)",code:"CD"},{name:"Congo (Republic)",code:"CG"},{name:"Costa Rica",code:"CR"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Eswatini",code:"SZ"},{name:"Ethiopia",code:"ET"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Greece",code:"GR"},{name:"Grenada",code:"GD"},{name:"Guatemala",code:"GT"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Honduras",code:"HN"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"North Korea",code:"KP"},{name:"South Korea",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Laos",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mexico",code:"MX"},{name:"Micronesia",code:"FM"},{name:"Moldova",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"North Macedonia",code:"MK"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Qatar",code:"QA"},{name:"Romania",code:"RO"},{name:"Russia",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syria",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Vatican City",code:"VA"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}].sort((l,a)=>l.name.localeCompare(a.name)),V=z.map(l=>({original:l,lower:l.name.toLowerCase()}));function Y(l){if(!l)return z;let a=l.toLowerCase(),n=[];for(let e=0;e<V.length;e++)V[e].lower.includes(a)&&n.push(V[e].original);return n}var Q=(l,a)=>a.code;function j(l,a){l&1&&(d(0,"div",3)(1,"span",30),s(2,"error"),r(),d(3,"div")(4,"p",31),s(5),c(6,"translate"),r(),d(7,"p",32),s(8),c(9,"translate"),r()()()),l&2&&(o(5),p(m(6,2,"PERSONAL.ERROR_TITLE")),o(3),p(m(9,4,"PERSONAL.ERROR_DESC")))}function $(l,a){if(l&1){let n=T();d(0,"li",37),h("click",function(){let t=S(n).$implicit,i=f(2);return y(i.selectCountry(t))}),s(1),r()}if(l&2){let n=a.$implicit;o(),w(" ",n.name," ")}}function q(l,a){if(l&1){let n=T();d(0,"div",10)(1,"div",33)(2,"input",34),h("ngModelChange",function(t){S(n);let i=f();return y(i.searchQuery.set(t))})("click",function(t){return S(n),y(t.stopPropagation())}),r()(),d(3,"ul",35),L(4,$,2,1,"li",36,Q),r()()}if(l&2){let n=f();o(2),E("ngModel",n.searchQuery()),o(2),I(n.filteredCountries())}}function X(l,a){l&1&&(d(0,"p",20),s(1),c(2,"translate"),r()),l&2&&(o(),p(m(2,1,"PERSONAL.MUST_BE_18")))}function ee(l,a){if(l&1){let n=T();d(0,"div",12)(1,"input",38),h("input",function(t){S(n);let i=f();return y(i.onPhoneInput(t))})("blur",function(){S(n);let t=f();return y(t.touchedPhone.set(!0))}),r(),d(2,"label",39),s(3),c(4,"translate"),r()()}if(l&2){let n=f();o(),u("shadow-input-error",n.touchedPhone()&&n.phoneNumber.replace(n.regex,"").length<10),E("value",n.phoneNumber),o(2),p(m(4,4,"PERSONAL.PHONE"))}}var J=class l{constructor(){this.state=x(G);this.firstName="";this.lastName="";this.dob="";this.phoneNumber="";this.country="";this.addrStreet="";this.addrCity="";this.addrZip="";this.touchedName=g(!1);this.touchedDob=g(!1);this.touchedPhone=g(!1);this.touchedAddress=g(!1);this.isValid=g(!1);this.isAdult=g(!0);this.showDropdown=g(!1);this.searchQuery=g("");this.regex=/[^0-9]/g;this.theme=v(()=>this.state.currentFlow()?.theme);this.filteredCountries=v(()=>Y(this.searchQuery()));D(()=>{this.firstName=this.state.firstName(),this.lastName=this.state.lastName(),this.dob=this.state.dob(),this.state.skipPhoneVerification()&&(this.phoneNumber=this.state.phoneNumber()),this.check()},{allowSignalWrites:!0})}onPhoneInput(a){let n=a.target.value.replace(/\D/g,""),e=n.match(/^(\d{0,3})(\d{0,3})(\d{0,4})$/),t=n;if(e){let i=e[1],M=e[2],A=e[3];i&&(t=`(${i}`),M&&(t+=`) ${M}`),A&&(t+=`-${A}`)}n.length>10&&(t=`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6,10)}`),this.phoneNumber=t,a.target.value=t,this.check(),this.update()}inputStyles(){let a=this.theme()?.input,n=a?.style==="material";return{"background-color":a?.backgroundColor||"#fff",color:a?.textColor||"#000","border-radius":a?.borderRadius||"0.5rem",border:n?"none":"1px solid #d1d5db",padding:"1.25rem 1rem 0.5rem 1rem",height:"3.5rem","box-shadow":n?"none":"inset 0 1px 2px rgba(0,0,0,0.05)"}}inputClasses(){return(this.theme()?.input.style||"modern")==="material"?"peer block w-full appearance-none focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors":"peer block w-full appearance-none focus:outline-none focus:ring-2 focus:ring-offset-1 transition-colors"}labelClasses(){let a=this.theme()?.input,n="text-gray-500";return this.theme()?.mode==="dark"&&(n="text-gray-400"),`transition-all duration-200 pointer-events-none absolute ${n} left-4 origin-[0] 
            peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 
            peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-0 
            scale-75 top-2 -translate-y-0`}toggleDropdown(){this.showDropdown.update(a=>!a),this.showDropdown()&&setTimeout(()=>{let a=document.querySelector('input[placeholder="Search..."]');a&&a.focus()},50)}selectCountry(a){this.country=a.name,this.showDropdown.set(!1),this.searchQuery.set(""),this.check(),this.update()}update(){this.state.updatePersonal({first:this.firstName,last:this.lastName,dob:this.dob,address:`${this.addrStreet}, ${this.addrCity} ${this.addrZip}`,country:this.country}),this.state.skipPhoneVerification()&&this.state.updatePhone({number:this.phoneNumber})}check(){let a=!1;if(this.dob){let e=new Date(this.dob),t=new Date,i=t.getFullYear()-e.getFullYear(),M=t.getMonth()-e.getMonth();(M<0||M===0&&t.getDate()<e.getDate())&&i--,a=i>=18}this.isAdult.set(a);let n=!0;this.state.skipPhoneVerification()&&(n=this.phoneNumber.replace(/[^0-9]/g,"").length>=10),this.isValid.set(this.country!==""&&this.firstName.length>=2&&this.lastName.length>=2&&a&&n&&this.addrStreet.length>=5&&this.addrCity.length>=3&&this.addrZip.length>=4)}submit(){if(this.isValid()){let a=`${this.addrStreet}, ${this.addrCity} ${this.addrZip}`;this.state.submitPersonal(this.firstName,this.lastName,this.dob,a,this.country)}}static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275cmp=B({type:l,selectors:[["app-personal-verification"]],standalone:!0,features:[R],decls:59,vars:68,consts:[[1,"flex","flex-col","items-center","mb-10"],[1,"text-2xl","font-bold","text-pp-navy","text-center","mb-3","tracking-tight"],[1,"text-base","text-slate-500","text-center","max-w-[80%]","mx-auto","leading-relaxed"],[1,"mb-8","bg-red-50","border-l-[6px]","border-[#D92D20]","p-4","flex","items-start","gap-4","rounded-r-lg"],[1,"space-y-6"],[1,"relative","z-50"],[1,"pp-input-group","mb-0","cursor-pointer",3,"click"],[1,"pp-input","flex","items-center"],[1,"pp-label"],[1,"material-icons","absolute","right-4","top-4","text-slate-500","transition-transform","duration-300"],[1,"absolute","w-full","bg-white","border","border-slate-200","rounded-[12px]","shadow-xl","mt-2","overflow-hidden","animate-fade-in","z-50"],[1,"grid","grid-cols-2","gap-4"],[1,"pp-input-group","mb-0"],["type","text","id","firstName","placeholder"," ",1,"pp-input","peer",3,"ngModelChange","blur","ngModel"],["for","firstName",1,"pp-label"],["type","text","id","lastName","placeholder"," ",1,"pp-input","peer",3,"ngModelChange","blur","ngModel"],["for","lastName",1,"pp-label"],[1,"pp-input-group"],["type","date","id","dob",1,"pp-input","peer",3,"ngModelChange","blur","ngModel"],["for","dob",1,"pp-label","!top-2","!text-xs","!font-bold"],[1,"text-xs","text-[#d92d20]","mt-1","ml-1","font-bold","animate-slide-up"],[1,"space-y-4"],["type","text","id","street","placeholder"," ",1,"pp-input","peer",3,"ngModelChange","blur","ngModel"],["for","street",1,"pp-label"],["type","text","id","city","placeholder"," ",1,"pp-input","peer",3,"ngModelChange","blur","ngModel"],["for","city",1,"pp-label"],["type","text","id","zip","placeholder"," ","maxlength","10",1,"pp-input","peer",3,"ngModelChange","blur","ngModel"],["for","zip",1,"pp-label"],[1,"pt-6"],[1,"pp-btn",3,"click","disabled"],[1,"material-icons","text-[#D92D20]","text-xl"],[1,"text-sm","font-bold","text-pp-navy"],[1,"text-xs","text-slate-600","mt-1"],[1,"p-3","border-b","border-slate-100","bg-slate-50"],["type","text","placeholder","Search...","autofocus","",1,"w-full","px-4","py-2","bg-white","rounded-lg","border","border-slate-300","text-sm","outline-none","focus:border-pp-blue","focus:ring-1","focus:ring-pp-blue","text-pp-navy",3,"ngModelChange","click","ngModel"],[1,"max-h-60","overflow-y-auto"],[1,"px-5","py-3","hover:bg-blue-50","hover:text-pp-blue","cursor-pointer","text-sm","text-pp-navy","transition-colors","font-bold","border-b","border-slate-50","last:border-0"],[1,"px-5","py-3","hover:bg-blue-50","hover:text-pp-blue","cursor-pointer","text-sm","text-pp-navy","transition-colors","font-bold","border-b","border-slate-50","last:border-0",3,"click"],["type","tel","id","phone","placeholder"," ",1,"pp-input","peer",3,"input","blur","value"],["for","phone",1,"pp-label"]],template:function(n,e){n&1&&(d(0,"app-public-layout")(1,"div",0)(2,"h2",1),s(3),c(4,"translate"),r(),d(5,"p",2),s(6),c(7,"translate"),r()(),P(8,j,10,6,"div",3),d(9,"div",4)(10,"div",5)(11,"div",6),h("click",function(){return e.toggleDropdown()}),d(12,"div",7),s(13),r(),d(14,"label",8),s(15),c(16,"translate"),r(),d(17,"span",9),s(18,"expand_more"),r()(),P(19,q,6,1,"div",10),r(),d(20,"div",11)(21,"div",12)(22,"input",13),C("ngModelChange",function(i){return b(e.firstName,i)||(e.firstName=i),i}),h("ngModelChange",function(){return e.check(),e.update()})("blur",function(){return e.touchedName.set(!0)}),r(),d(23,"label",14),s(24),c(25,"translate"),r()(),d(26,"div",12)(27,"input",15),C("ngModelChange",function(i){return b(e.lastName,i)||(e.lastName=i),i}),h("ngModelChange",function(){return e.check(),e.update()})("blur",function(){return e.touchedName.set(!0)}),r(),d(28,"label",16),s(29),c(30,"translate"),r()()(),d(31,"div",17)(32,"input",18),C("ngModelChange",function(i){return b(e.dob,i)||(e.dob=i),i}),h("ngModelChange",function(){return e.check(),e.update()})("blur",function(){return e.touchedDob.set(!0)}),r(),d(33,"label",19),s(34),c(35,"translate"),r(),P(36,X,3,3,"p",20),r(),P(37,ee,5,6,"div",12),d(38,"div",21)(39,"div",12)(40,"input",22),C("ngModelChange",function(i){return b(e.addrStreet,i)||(e.addrStreet=i),i}),h("ngModelChange",function(){return e.check(),e.update()})("blur",function(){return e.touchedAddress.set(!0)}),r(),d(41,"label",23),s(42),c(43,"translate"),r()(),d(44,"div",11)(45,"div",12)(46,"input",24),C("ngModelChange",function(i){return b(e.addrCity,i)||(e.addrCity=i),i}),h("ngModelChange",function(){return e.check(),e.update()})("blur",function(){return e.touchedAddress.set(!0)}),r(),d(47,"label",25),s(48),c(49,"translate"),r()(),d(50,"div",12)(51,"input",26),C("ngModelChange",function(i){return b(e.addrZip,i)||(e.addrZip=i),i}),h("ngModelChange",function(){return e.check(),e.update()})("blur",function(){return e.touchedAddress.set(!0)}),r(),d(52,"label",27),s(53),c(54,"translate"),r()()()(),d(55,"div",28)(56,"button",29),h("click",function(){return e.submit()}),s(57),c(58,"translate"),r()()()()),n&2&&(o(3),p(m(4,48,"PERSONAL.TITLE")),o(3),w(" ",m(7,50,"PERSONAL.SUBTITLE")," "),o(2),N(e.state.rejectionReason()?8:-1),o(4),u("text-pp-navy",e.country)("text-transparent",!e.country),o(),p(e.country||"Select"),o(),u("top-2",e.country)("text-xs",e.country)("font-bold",e.country),o(),w(" ",m(16,52,"PERSONAL.COUNTRY")," "),o(2),u("rotate-180",e.showDropdown()),o(2),N(e.showDropdown()?19:-1),o(3),u("shadow-input-error",e.touchedName()&&e.firstName.length<2),_("ngModel",e.firstName),o(2),p(m(25,54,"PERSONAL.FIRST_NAME")),o(3),u("shadow-input-error",e.touchedName()&&e.lastName.length<2),_("ngModel",e.lastName),o(2),p(m(30,56,"PERSONAL.LAST_NAME")),o(3),u("shadow-input-error",e.touchedDob()&&!e.isAdult()),_("ngModel",e.dob),o(2),p(m(35,58,"PERSONAL.DOB")),o(2),N(e.touchedDob()&&e.dob&&!e.isAdult()?36:-1),o(),N(e.state.skipPhoneVerification()?37:-1),o(3),u("shadow-input-error",e.touchedAddress()&&e.addrStreet.length<5),_("ngModel",e.addrStreet),o(2),p(m(43,60,"PERSONAL.ADDRESS")),o(4),u("shadow-input-error",e.touchedAddress()&&e.addrCity.length<3),_("ngModel",e.addrCity),o(2),p(m(49,62,"PERSONAL.CITY")),o(3),u("shadow-input-error",e.touchedAddress()&&e.addrZip.length<4),_("ngModel",e.addrZip),o(2),p(m(54,64,"PERSONAL.ZIP")),o(3),u("opacity-50",!e.isValid()),E("disabled",!e.isValid()),o(),w(" ",m(58,66,"COMMON.CONTINUE")," "))},dependencies:[k,U,O,W,K,Z,H,F],encapsulation:2})}};export{J as PersonalVerificationComponent};
